ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 15,
    center: [44.575680, 38.103743],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });

  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.
      [44.5750880713317,38.0963596218673],
      [44.5750343871652,38.0965795594299],
      [44.5749960533355,38.0969121561654],
      [44.5749692051398,38.0970140812233],
      [44.5748350097244,38.0972662076576],
      [44.5748120010126,38.0974056784106],
      [44.5748273372022,38.0976202603291],
      [44.5749040185458,38.0980494137681],
      [44.5748810217966,38.0982532604737],
      [44.5749078637821,38.0984088328724],
      [44.574930863931,38.0985536727094],
      [44.5749423726501,38.0987521465647],
      [44.5748810217966,38.0988004298564],
      [44.5745014164135,38.0987360571544],
      [44.5744208966882,38.0987897030859],
      [44.5742246322784,38.0991827592377],
      [44.5737721728853,38.100137629197],
      [44.5737184871531,38.1003843877465],
      [44.5737184871531,38.1007008946362],
      [44.5737530048227,38.1009047413417],
      [44.5738209221087,38.1010767198656],
      [44.5743884102532,38.1018921125756],
      [44.5744650955518,38.1019886701702],
      [44.5744804325636,38.1020905947318],
      [44.5744382614385,38.1022032485943],
      [44.5743500734093,38.1022783514713],
      [44.5736026241614,38.1025322537667],
      [44.5735105987028,38.1025805278904],
      [44.5732498615997,38.1029721358064],
      [44.5730428031274,38.103090151607],
      [44.5727973891231,38.1033101029793],
      [44.5725680030578,38.1036274912767],
      [44.5723647727696,38.103943987895],
      [44.5716151326071,38.105571075071],
      [44.5712536571734,38.1062391719143],
      [44.5710810983035,38.1068721846827],
      [44.5710210125767,38.1073768194654],
      [44.5710593620867,38.1078864404643],
      [44.5714159662485,38.1088627618977],
      [44.5715003260636,38.1089271345997],
      [44.5715348409077,38.1088681334247],
      [44.5715310090045,38.1087447367492],
      [44.5714811563354,38.1085301744138],
      [44.571335444247,38.108122471352],
      [44.5713392760074,38.1079615419827],
      [44.5713162721672,38.1076986778312],
      [44.5713469469083,38.1075431137086],
      [44.571358450439,38.107344625418],
      [44.5715770211698,38.1066204313362],
      [44.5717457386304,38.1063039275552],
      [44.5718952898542,38.106137641907],
      [44.5727764404593,38.1049551081395],
      [44.573375002585,38.1045126086746],
      [44.573688819223,38.104373644017],
      [44.5739035434138,38.1043199885981],
      [44.5744537257158,38.1038242306972],
      [44.5749982143697,38.1036042864563],
      [44.5752435953837,38.1037008481421],
      [44.5753432938953,38.1036847549031],
      [44.5754729227483,38.1035026934571],
      [44.5755572778795,38.1034544075353],
      [44.5765695159481,38.1031218144063],
      [44.5766308732623,38.103068172745],
      [44.576657707027,38.1029608797284],
      [44.5766308732623,38.1028428613371],
      [44.5763854784232,38.102360073403],
      [44.5761170822821,38.1014856707448],
      [44.5761132520803,38.1013140141427],
      [44.5762205967565,38.1011047862363],
      [44.577299601796,38.1007030069657],
      [44.5773916247413,38.1006010868538],
      [44.5774491374044,38.1004025973153],
      [44.5776473797286,38.0992356545314],
      [44.5777458851976,38.0989654617801],
      [44.5778800912737,38.0987186920411],
      [44.5779951117435,38.0986596785104],
      [44.5785612113636,38.0986498379035],
      [44.5786800669424,38.0986713034486],
      [44.5788320162911,38.0987283202297],
      [44.5791655886311,38.0988731578206],
      [44.5798096961654,38.0993023080591],
      [44.5799899001858,38.0994525179185],
      [44.5803092087438,38.0996462373961],
      [44.5803628882563,38.099748173484],
      [44.5803092087438,38.0998232746484],
      [44.5801481868126,38.0998018091033],
      [44.5797916279073,38.0996355102547],
      [44.5795999319724,38.0995174971642],
      [44.5791820216863,38.0994048382375],
      [44.5788391554672,38.0994306463002],
      [44.5786359583544,38.099489659831],
      [44.5784289209356,38.0995969480325],
      [44.5783714106424,38.0998276226405],
      [44.5783867404887,38.1001387554243],
      [44.5784442521955,38.1003372449629],
      [44.5787433147134,38.1011472660748],
      [44.5788468334892,38.1016568935455],
      [44.5787866932653,38.101829987038],
      [44.5786409941604,38.1019909174856],
      [44.5785221415295,38.1020928496342],
      [44.5784722878395,38.1022108680255],
      [44.5785029622386,38.1023288864168],
      [44.5790435734521,38.102859957355],
      [44.579139419128,38.103047712681],
      [44.5791585923503,38.1032837503766],
      [44.5791563471314,38.1039027823275],
      [44.5791946891454,38.1039296071933],
      [44.5792406965301,38.1039027823275],
      [44.5792598697524,38.1037901313446],
      [44.5796586147361,38.1025992253031],
      [44.5797621322571,38.1023685572024],
      [44.5799230943405,38.1021799608057],
      [44.5800764475828,38.1020512234772],
      [44.5801377903091,38.1020351250951],
      [44.5802067983391,38.1021263159604],
      
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
         strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 2,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [44.5750880713317,38.0963596218673],
    {
      hintContent: "Начало маршрута",
    //   balloonContent: `Начало маршрута Каменный столб `,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [44.5802067983391,38.1021263159604],
    {
      hintContent: "Конец маршрута",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
