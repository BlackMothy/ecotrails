ymaps.ready(function () {
    var myMap = new ymaps.Map("map", {
        zoom: 14,
        center: [44.449538, 34.130323],
        controls: [],
    });
    myMap.controls.add("geolocationControl", {
        float: "none",
        position: {
            top: "16px",
            left: "16px",
        },
    });
    myMap.controls.add("zoomControl", {
        float: "none",
        position: {
            top: "250px",
            right: "15px",
        },
    });
    myMap.controls.add("typeSelector", {
        float: "none",
        position: {
            top: "16px",
            left: "64px",
        },
    });

    // Трэк  

    var myPolyline = new ymaps.Polyline(
        [
            // Указываем координаты вершин.
            [44.4668840385744, 34.1438761517742],
            [44.4668533066723, 34.143835918639],
            [44.4667803183395, 34.1438117787579],
            [44.4660459798175, 34.1433807751646],
            [44.4657885959346, 34.1432198426237],
            [44.4655158445806, 34.1431849739065],
            [44.4654812703737, 34.1431474229803],
            [44.4654543793096, 34.1429972192754],
            [44.4654025179365, 34.1428148290624],
            [44.4650817447299, 34.1422354719152],
            [44.4650567742845, 34.1420611283292],
            [44.4650049125557, 34.1419592043867],
            [44.4649588132023, 34.141833140563],
            [44.4646534040812, 34.1411733171453],
            [44.4645554423175, 34.1408058545103],
            [44.4645151050726, 34.1407736680021],
            [44.4642750018854, 34.1407200238218],
            [44.4641482269794, 34.1406797906865],
            [44.4641117311217, 34.1406476041783],
            [44.4640829185863, 34.140583231162],
            [44.4639791933402, 34.1404920360555],
            [44.4639619057811, 34.1404518029203],
            [44.4639369348534, 34.1403552433957],
            [44.4638716262223, 34.1402989170064],
            [44.4638581803395, 34.1402560016621],
            [44.4638620220266, 34.1401916286458],
            [44.4638370510558, 34.1401272556294],
            [44.4637141168891, 34.1398804924001],
            [44.4636564914088, 34.1398295304288],
            [44.4635642905211, 34.1398000261296],
            [44.4633203416529, 34.1395210763921],
            [44.4632627157811, 34.1394915720929],
            [44.4632242985015, 34.1394969365109],
            [44.4631455429987, 34.1395264408101],
            [44.4629073549943, 34.1394727966298],
            [44.4628132320582, 34.1394057414044],
            [44.4625788844399, 34.1393172285069],
            [44.4623541403425, 34.1391884824742],
            [44.4619757231201, 34.1389309904088],
            [44.4616683773697, 34.138611807536],
            [44.4615108620305, 34.1384911081303],
            [44.4611382021063, 34.1383409044255],
            [44.4609922109594, 34.1383114001263],
            [44.4606714133533, 34.1384133240689],
            [44.4604159265484, 34.138619854163],
            [44.4601200983364, 34.1391884824741],
            [44.4600182869721, 34.1394030591953],
            [44.4598934237551, 34.1396095892894],
            [44.4598338735008, 34.1396685978878],
            [44.4597301406536, 34.1397463819492],
            [44.4596744322171, 34.1397597929943],
            [44.4596148817379, 34.1397597929943],
            [44.4595073065236, 34.139708831023],
            [44.4594247039915, 34.1396685978878],
            [44.4593632322633, 34.1396444580066],
            [44.4591538437212, 34.1396659156787],
            [44.4591192657206, 34.1396417757976],
            [44.4590481886546, 34.1395505806911],
            [44.4589675064742, 34.1394996187198],
            [44.4589386913826, 34.1394325634944],
            [44.4588676141163, 34.1390329143512],
            [44.4587139331973, 34.1385662099826],
            [44.4586332505728, 34.1384052774417],
            [44.4585544888344, 34.1383167645442],
            [44.4584584377892, 34.1382550737369],
            [44.4583681496617, 34.1382336160648],
            [44.4582144674401, 34.1382443449008],
            [44.4580511796111, 34.1382953068721],
            [44.4579455225357, 34.1383167645442],
            [44.4578437073535, 34.138289942454],
            [44.4578129706597, 34.1382604381549],
            [44.4577611024728, 34.1381853363024],
            [44.457738049942, 34.1381021878229],
            [44.4577438130808, 34.1379600307452],
            [44.4577630235393, 34.1379010221468],
            [44.4578878913644, 34.1377052208887],
            [44.4580338903476, 34.1372841140734],
            [44.4581145738479, 34.1369622489916],
            [44.458141468316, 34.136860325049],
            [44.4581722048358, 34.1366859814631],
            [44.45837696275593, 34.136785709947716],
            [44.4583796759182, 34.1367771765696],
            [44.458412501711145, 34.136730724662904],
            [44.458411541199126, 34.136659646124016],
            [44.45840481761456, 34.13662880072035],
            [44.45838176531873, 34.136585885376114],
            [44.45836159455235, 34.1365657688085],
            [44.45821367538454, 34.1364410460893],
            [44.45812338687591, 34.13622781047261],
            [44.45797258554269, 34.13606956014073],
            [44.45738474587903, 34.13571282067046],
            [44.457104270723825, 34.135621625563935],
            [44.456981322282935, 34.13544996418699],
            [44.45671621382039, 34.13517101444944],
            [44.456574053710874, 34.1351280991052],
            [44.456439577610894, 34.135149556777336],
            [44.456241985432264, 34.13513904172906],
            [44.45607004709301, 34.13506259877212],
            [44.45604006918028, 34.13501409735036],
            [44.45559245054639, 34.13443339909866],
            [44.45537260173406, 34.134094940840356],
            [44.45485172893734, 34.13362043762504],
            [44.45477296206328, 34.13328784370717],
            [44.45465769327427, 34.13240539694127],
            [44.45464040293616, 34.13233029508885],
            [44.454590453041554, 34.132180091384036],
            [44.45448863196934, 34.13197087908088],
            [44.45440986460215, 34.13180994653999],
            [44.45437689618369, 34.13173062579773],
            [44.454342315334905, 34.13162065522811],
            [44.454328867221456, 34.13148386256834],
            [44.454328867221456, 34.131365845371704],
            [44.45435384228678, 34.13128269689222],
            [44.45441531932483, 34.131183455158684],
            [44.45447679629771, 34.13104666249893],
            [44.454486402068845, 34.130928645302276],
            [44.45445566359564, 34.13078917043349],
            [44.454432609730034, 34.130711386372056],
            [44.45438265965648, 34.13064701335571],
            [44.45429812866478, 34.13057191150329],
            [44.45423088801521, 34.13052094953201],
            [44.454207834060284, 34.13047535197874],
            [44.454207834060284, 34.130397567917306],
            [44.454127145145826, 34.130368063618164],
            [44.45401955975195, 34.13018299119612],
            [44.45392350119593, 34.12985039727828],
            [44.45366581416124, 34.12940551891485],
            [44.45350827708509, 34.128858348275806],
            [44.453423744819055, 34.12874033107914],
            [44.453116353722194, 34.128525754357966],
            [44.453103, 34.128534],
            [44.4530111227112, 34.1285897335518],
            [44.4529611714135, 34.1285870513428],
            [44.4528958504208, 34.128624602269],
            [44.4527229415766, 34.1285414537896],
            [44.452544268541, 34.1284878096093],
            [44.4523540676291, 34.1285253605355],
            [44.4521677085343, 34.1286541065682],
            [44.4521081503469, 34.1286380133141],
            [44.45196790018, 34.1284690341462],
            [44.4517277450182, 34.1283161482323],
            [44.4515798089307, 34.1281874021996],
            [44.451470297558, 34.1281203469742],
            [44.4512589592577, 34.128090842675],
            [44.4510668328429, 34.1281230291832],
            [44.4507863271346, 34.1284127077568],
            [44.4506614440408, 34.1284985384452],
            [44.4505749863423, 34.1284341654289],
            [44.4505192690905, 34.1282464107978],
            [44.450475079508, 34.1281498512733],
            [44.4504366537567, 34.1281337580192],
            [44.4503290615176, 34.1281096181381],
            [44.4502887143765, 34.1281391224372],
            [44.4501964922343, 34.1282437285888],
            [44.45014077464, 34.128444894265],
            [44.4500831356713, 34.1285843691337],
            [44.44998322799, 34.1286809286583],
            [44.449821838316, 34.1286916574943],
            [44.4496104939888, 34.1286728820312],
            [44.4494548672403, 34.1286943397033],
            [44.4492358362858, 34.1287828526008],
            [44.4490609951767, 34.1288740477073],
            [44.448978377766, 34.1289571961868],
            [44.4488938388984, 34.1291100821006],
            [44.4487900865044, 34.1291073998916],
            [44.4487458956046, 34.129000111531],
            [44.4486613563982, 34.1289625606048],
            [44.4485710530399, 34.1288847765433],
            [44.448319355645, 34.1286004623878],
            [44.4482002313064, 34.1285495004165],
            [44.4479139476424, 34.128469034146],
            [44.4478082720997, 34.1284288010108],
            [44.4476065273473, 34.1281847199905],
            [44.447368275519, 34.1280184230315],
            [44.4471646078399, 34.1278253039825],
            [44.4470762235303, 34.1276804646957],
            [44.4470819877285, 34.1276107272613],
            [44.4471415510974, 34.1273585996138],
            [44.4471569222741, 34.1272674045073],
            [44.4471511580833, 34.1271547517287],
            [44.4471357869051, 34.127026005696],
            [44.44713194411, 34.1268141111838],
            [44.4471050445366, 34.1267658314215],
            [44.4469782320941, 34.126669271897],
            [44.4466016359759, 34.1265700301635],
            [44.446550, 34.126557],
            [44.446470161065655, 34.12655442683565],
            [44.446416361292734, 34.12655710904467],
            [44.44634911150642, 34.12659197776187],
            [44.4461396759582, 34.12691116063464],
            [44.445827110437754, 34.12697375698652],
            [44.44562920169085, 34.12694693489637],
            [44.44534212558365, 34.1270357914926],
            [44.445235296918234, 34.12726711434511],
            [44.445196867696154, 34.12737976712374],
            [44.44516420283739, 34.12750314873843],
            [44.44506560243869, 34.127621489558834],
            [44.44494262847879, 34.127602714095744],
            [44.44484847636458, 34.12749810794415],
            [44.44483310457631, 34.12739886621061],
            [44.44486576962149, 34.127227204833666],
            [44.44483694752374, 34.127077001128825],
            [44.44478506771174, 34.12699385264936],
            [44.444534057987134, 34.12726940835829],
            [44.44446584527602, 34.12729488934393],
            [44.44433518408433, 34.12724526847717],
            [44.4442102870819, 34.127080312622745],
            [44.44420164035641, 34.12706958378669],
            [44.44413630949985, 34.12703069175596],
            [44.444037352327015, 34.127022645128925],
            [44.443900213929, 34.12703633786266],
            [44.44376955146352, 34.127076570997886],
            [44.44360910523943, 34.12717178941792],
            [44.4433433119739, 34.127469382312675],
            [44.44319151144848, 34.12756460073271],
            [44.443151081156394, 34.127561885107184],
            [44.44312514050248, 34.127524334180976],
            [44.44299801023478, 34.1272760228544],
            [44.44290193342726, 34.12715800565775],
            [44.442880796508256, 34.12712850135858],
            [44.442742445575504, 34.12709095043237],
            [44.44260360037357, 34.12710139942037],
            [44.44248446429875, 34.127133585928554],
            [44.44231152440003, 34.12719527673588],
            [44.44215395648801, 34.127200641153934],
            [44.442061721414134, 34.12723282766209],
            [44.4419521920735, 34.12729183626043],
            [44.441830602707675, 34.127289888533404],
            [44.44172491608433, 34.127332803877636],
            [44.44160001346311, 34.127453503283306],
            [44.441567346579376, 34.12751519409066],
            [44.441519307011035, 34.127737817438884],
            [44.441386717596075, 34.12785047021752],
            [44.441026094664366, 34.12797368156657],
            [44.44066098954206, 34.1281614361976],
            [44.44054184947873, 34.1281614361976],
            [44.44027282262944, 34.12811852085336],
            [44.43981982278665, 34.12829167722917],
            [44.439758330280235, 34.128302406065224],
            [44.43938168725658, 34.128120015852225],
            [44.43929482403986, 34.12817932007371],
            [44.43925639088328, 34.12817127344667],
            [44.43922180102061, 34.128093489385236],
            [44.4391987411007, 34.12792182800829],
            [44.43915646455708, 34.127766259885426],
            [44.439048851397935, 34.12759728071747],
            [44.43898735807455, 34.127524861074086],
            [44.43894123803925, 34.1274926745659],
            [44.43888358794358, 34.12746853468475],
            [44.43881632942625, 34.1274578058487],
            [44.438791347671376, 34.12748194572985],
            [44.438775974278435, 34.12760800955354],
            [44.43876444423104, 34.12781453964769],
            [44.43878366097543, 34.12795669672546],
            [44.43878366097543, 34.128069349504095],
            [44.43876636590577, 34.128098853803266],
            [44.43874138412939, 34.1281069004303],
            [44.43869170330921, 34.128081505192874],
            [44.43866479982267, 34.12807345856584],
            [44.43851288414987, 34.12788355860882],
            [44.43844178183213, 34.127773588039204],
            [44.4382181085966, 34.127206626408906],
            [44.43816237947728, 34.127021553986864],
            [44.43808743333589, 34.126688960069025],
            [44.438065357247055, 34.126635354361824],
            [44.43789240417788, 34.1263778622964],
            [44.43783667474581, 34.12626789172678],
            [44.43771945059329, 34.1259808953622],
            [44.43770984204568, 34.125927251181906],
            [44.437862827155044, 34.12462471036949],
            [44.43792432167003, 34.12401853113212],
            [44.437941616990635, 34.12383345871009],
            [44.43794467099871, 34.1234308904666],
            [44.43780823000331, 34.12300978365125],
            [44.437384876487435, 34.122105594914295],
            [44.43724651245096, 34.121711310189106],
            [44.43721576484249, 34.12151014451299],
            [44.43720231275868, 34.12143236045155],
            [44.43718501721774, 34.121107813160755],
            [44.437148948811064, 34.12099459229162],
            [44.43709321866505, 34.12091144381216],
            [44.43702595807272, 34.1208631640499],
            [44.43695485393321, 34.120844388586804],
            [44.436776132332994, 34.12086852846792],
            [44.436747306216915, 34.120860481840886],
            [44.43665506254922, 34.12082024870566],
            [44.436583957955285, 34.1207719689434],
            [44.43649747927771, 34.12060567198448],
            [44.43641484397652, 34.12033745108298],
            [44.43636872189677, 34.12009068785361],
            [44.436341817333336, 34.119682992083355],
            [44.436295695195575, 34.119489873034276],
            [44.436211137847785, 34.11928066073112],
            [44.436065083956905, 34.119098270518094],
            [44.43591902969847, 34.118867600542835],
            [44.43589981200552, 34.11883004961662],
            [44.435807566990796, 34.11850818453483],
            [44.43571916538078, 34.118046844584256],
            [44.43570763472608, 34.1177303439205],
            [44.43568072985617, 34.11763378439597],
            [44.435564494967394, 34.11750488364118],
            [44.4354491880099, 34.11743514620679],
            [44.435310819358506, 34.11736540877239],
            [44.4351147965377, 34.11721520506758],
            [44.43506098623576, 34.117113281125],
            [44.43501870667783, 34.11688261114971],
            [44.43503408106611, 34.11667876326459],
            [44.435057142640865, 34.1165553816499],
            [44.4353646294288, 34.115745354527405],
            [44.43562599191772, 34.115069437855645],
            [44.43602505381783, 34.11470587974249],
            [44.436159577244524, 34.11433037048041],
            [44.43627103927614, 34.114164073521465],
            [44.436598547595835, 34.11382686457838],
            [44.43682528733173, 34.113644654575936],
            [44.437048208623864, 34.11336570483839],
            [44.43722116420891, 34.11303847533857],
            [44.43732109386756, 34.112738067928916],
            [44.43733646764592, 34.11260932189618],
            [44.43725191181452, 34.11126285297072],
            [44.437155825492916, 34.11106436950361],
            [44.437052052086926, 34.11091953021682],
            [44.436909843784726, 34.1108283351103],
            [44.43670229590748, 34.110715682331666],
            [44.436656174056175, 34.11067813140548],
            [44.43648706028782, 34.11038845283185],
            [44.436506277786314, 34.11009877425825],
            [44.436513964783934, 34.109894926373116],
            [44.4364255642499, 34.109176094357124],
            [44.43644938395745, 34.10892358999104],
            [44.43653009746076, 34.108687555597726],
            [44.43661081085182, 34.10846225004047],
            [44.436699211103694, 34.1082154868111],
            [44.4368222025345, 34.10790971498339],
            [44.43689522857321, 34.107775604532655],
            [44.43696441105144, 34.10771123151631],
            [44.43716427108087, 34.107485925959054],

        ],
        [],

        {
            // Задаем опции геообъекта.
            // Цвет с прозрачностью.
            strokeColor: "#F28123",
            // Ширину линии.
            strokeWidth: 3,
            // Максимально допустимое количество вершин в ломаной.
            editorMaxPoints: 6,
            // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
            editorMenuManager: function (items) {
                items.push({
                    title: "Удалить линию",
                    onClick: function () {
                        myMap.geoObjects.remove(myPolyline1);
                    },
                });
                return items;
            },
        }
    );

    // Обозначение начала маршрута
    var startPoint = new ymaps.Placemark(
        [44.4668840385744, 34.1438761517742],
        {
            hintContent: "Начало маршрута",
            //   balloonContent: `Начало маршрута`,
        },
        {
            iconLayout: "default#image",
            iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
            iconImageSize: [32, 51],
            iconImageOffset: [-10, -45],
        }
    );
    // Добавляем линию на карту.
    myMap.geoObjects.add(myPolyline).add(startPoint);

});

//Геолокация пользователя//
function init() {
    var geolocation = ymaps.geolocation,
        myMap = new ymaps.Map(
            "map",
            {
                center: [55, 34],
                zoom: 10,
            },
            {
                searchControlProvider: "yandex#search",
            }
        );

    // Сравним положение, вычисленное по ip пользователя и
    // положение, вычисленное средствами браузера.
    geolocation
        .get({
            provider: "yandex",
            mapStateAutoApply: true,
        })
        .then(function (result) {
            // Красным цветом пометим положение, вычисленное через ip.
            result.geoObjects.options.set("preset", "islands#redCircleIcon");
            result.geoObjects.get(0).properties.set({
                balloonContentBody: "Мое местоположение",
            });
            myMap.geoObjects.add(result.geoObjects);
        });

    geolocation
        .get({
            provider: "browser",
            mapStateAutoApply: true,
        })
        .then(function (result) {
            // Синим цветом пометим положение, полученное через браузер.
            // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
            result.geoObjects.options.set("preset", "islands#blueCircleIcon");
            myMap.geoObjects.add(result.geoObjects);
        });
}
