ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 14,
    center: [44.82501955440478, 34.91609077603822],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });
  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.

      [44.82501955440478, 34.91609077603822],
      [44.82483248765393, 34.91654138715272],
      [44.82473322749714, 34.91691153199677],
      [44.8245461598109, 34.917179752898264],
      [44.82453852438214, 34.91726558358674],
      [44.82429037239361, 34.91796832234863],
      [44.82417584034388, 34.91818289906983],
      [44.82385602527195, 34.918403077042996],
      [44.82374149235346, 34.91863374701828],
      [44.82364986585373, 34.91875712863297],
      [44.82349333691084, 34.91881613723128],
      [44.82315737090578, 34.91880540839523],
      [44.82284049207194, 34.918875145829624],
      [44.82275649979791, 34.918832230485386],
      [44.82270305010484, 34.918832230485386],
      [44.82266487172209, 34.91881077281325],
      [44.82272213928666, 34.91866056910844],
      [44.822783224625745, 34.918505000985576],
      [44.82277940679398, 34.91831724635452],
      [44.82279849595032, 34.91814558497757],
      [44.82273741062754, 34.917920279420315],
      [44.82276031763122, 34.91773252478929],
      [44.82274122846213, 34.91764669410079],
      [44.82269541443033, 34.91761450759263],
      [44.82264578252118, 34.917534041322185],
      [44.822599968413016, 34.91746966830582],
      [44.822542700726274, 34.91727118483871],
      [44.82239762233019, 34.91711025229782],
      [44.82222963635977, 34.91687421790451],
      [44.822114714569345, 34.916844725695206],
      [44.822019267584174, 34.91683399685913],
      [44.821969635089, 34.916807174769],
      [44.82190473099193, 34.916748166170656],
      [44.82174437937798, 34.91665697106416],
      [44.82170620035609, 34.91662478455597],
      [44.8216909287402, 34.91637802132661],
      [44.82174437937798, 34.91634047040039],
      [44.82185128050385, 34.91632437714632],
      [44.821893277320115, 34.91624927529389],
      [44.82191236677188, 34.916088342753],
      [44.82185128050385, 34.915777206507265],
      [44.821920002550804, 34.915498256769716],
      [44.82200017816804, 34.91541779049927],
      [44.82206126427725, 34.91542851933532],
      [44.8221414396967, 34.9153319598108],
      [44.82216434693877, 34.91502618798309],
      [44.82206936273685, 34.91466661091557],
      [44.82205027333744, 34.91454859371893],
      [44.82205027333744, 34.914462763030436],
      [44.82197773356155, 34.91392095680944],
      [44.82194337258303, 34.91388340588323],
      [44.82187083267175, 34.91373320217839],
      [44.82183647162909, 34.91362591381781],
      [44.821790656873425, 34.91347034569495],
      [44.821718116768714, 34.91299291249029],
      [44.82169520934813, 34.91278906460516],
      [44.82176011368264, 34.912494021613526],
      [44.821748659981886, 34.91232772465458],
      [44.82188228634806, 34.911737638671326],
      [44.82168173562996, 34.911181189959876],
      [44.82165882819481, 34.9110578083452],
      [44.82168555353493, 34.91093442673051],
      [44.82165501028808, 34.910596468394644],
      [44.821620649115914, 34.91055355305041],
      [44.8216435565663, 34.910414078181624],
      [44.8215862879231, 34.91020486587846],
      [44.82160919538725, 34.91014585728015],
      [44.82160919538725, 34.910081484263785],
      [44.8215748341876, 34.90999565357531],
      [44.821597741656326, 34.90993128055894],
      [44.82145647878649, 34.90977571243607],
      [44.8213152155682, 34.909491398280494],
      [44.8213152155682, 34.90941093201005],
      [44.82129230798645, 34.909351923411734],
      [44.82133048728427, 34.90928218597734],
      [44.82145647878649, 34.909217812960996],
      [44.82142975333949, 34.909115889018416],
      [44.82142975333949, 34.90906224483813],
      [44.82153665505267, 34.90899250740374],
      [44.82156719836266, 34.90890667671526],
      [44.82154810879582, 34.908831574862845],
      [44.821460296706476, 34.9087511085924],
      [44.82125794659664, 34.908740379756345],
      [44.821147226422575, 34.90871892208421],
      [44.821101411115535, 34.90867064232195],
      [44.82088760586463, 34.908633091395735],
      [44.82053464851703, 34.90865381694566],
      [44.82045828883479, 34.90862163043747],
      [44.82040101900629, 34.908632359273525],
      [44.82034756711469, 34.90866454578171],
      [44.82022920917717, 34.90868600345384],
      [44.820164303107596, 34.908669910199734],
      [44.820057398832624, 34.90861090160142],
      [44.81997722049543, 34.90861090160142],
      [44.81980922742497, 34.90854652858505],
      [44.81974432087941, 34.90855189300308],
      [44.81961450756758, 34.908487519986735],
      [44.818852651553385, 34.90845684847776],
      [44.81863120169064, 34.90836028895323],
      [44.818539567014206, 34.908322738027024],
      [44.818234117033924, 34.908328102445054],
      [44.818043209969, 34.908274458264735],
      [44.817718180438284, 34.908281866417965],
      [44.81757308981995, 34.90826040874584],
      [44.81747381707985, 34.90826577316386],
      [44.8173745441677, 34.908233586655676],
      [44.81716072500326, 34.908276501999914],
      [44.817023269404594, 34.908378425942495],
      [44.816973632579554, 34.90845889221294],
      [44.81693545037719, 34.9085983670817],
      [44.81684763121514, 34.90871638427836],
      [44.81674453898352, 34.90878612171275],
      [44.81660708238608, 34.9092260039912],
      [44.81662235535762, 34.90954786907299],
      [44.81666435600844, 34.90973562370404],
      [44.81666817424788, 34.90989655624493],
      [44.81665671952877, 34.90995020042522],

      [44.818600586313494, 34.9083425499749],
      [44.81853186028318, 34.90822185056923],
      [44.81841922577739, 34.907921443159545],
      [44.818430680144026, 34.907865116770246],
      [44.81866740320833, 34.90796435850381],
      [44.81890412529422, 34.90789462106942],
      [44.818974759920614, 34.907921443159545],
      [44.81901103172194, 34.907902667696455],
      [44.81919239038403, 34.90795362966773],
      [44.81919429941951, 34.90799118059394],
      [44.81913702832703, 34.908868262941816],
      [44.81904157637894, 34.90898091572045],
      [44.81963386198143, 34.90846717958117],
      [44.8199087603183, 34.90847790841723],
      [44.821474128474705, 34.90778053407337],
      [44.822252978640684, 34.90817750100757],
      [44.82232933592994, 34.90823114518786],
      [44.82250495730882, 34.90831697587634],
      [44.82279511318957, 34.90860665444994],
      [44.82305472509982, 34.908821231171146],
      [44.82311327843653, 34.90904532500728],
      [44.823302259702444, 34.90933500358088],
      [44.82337575224852, 34.90941681095582],
      [44.8234840385044, 34.90947708526305],
      [44.82378459179091, 34.90956666034344],
      [44.823907924800196, 34.90958263212414],
      [44.823986665977415, 34.90957056218357],
      [44.82403386057841, 34.909548584298236],
      [44.82414266630088, 34.90947147078905],
      [44.82424322060253, 34.909440189187855],
      [44.82440540810892, 34.9094400330789],
      [44.82475759201905, 34.909456126332984],
      [44.824848216376594, 34.90948493521278],
      [44.82490739060272, 34.90948761742179],
      [44.82497038245366, 34.909452748704595],
      [44.82515363108051, 34.90902359526223],
      [44.825172719445405, 34.90886266272133],
      [44.82518035478958, 34.90871782343452],
      [44.825222349164385, 34.90866954367226],
      [44.8254113234698, 34.90874196331566],
      [44.82551330119529, 34.90873899505973],
      [44.82560301589148, 34.90872021959663],
      [44.825690821628214, 34.90868803308845],
      [44.82277392410495, 34.908552948767976],
      [44.82317861289626, 34.90862805062037],
      [44.82329314694059, 34.90862805062037],
      [44.82336186725723, 34.90853149109584],
      [44.82344585864333, 34.908381287391],
      [44.82358329882761, 34.90824181252224],
      [44.824026159399594, 34.90740496330959],
      [44.824239952932636, 34.90721184426051],
      [44.82431630757242, 34.907093827063854],
      [44.82446901654654, 34.90695435219509],
      [44.82464463136333, 34.90658957176907],
      [44.82466753760405, 34.906192604834864],
      [44.82471335005804, 34.90601021462184],
      [44.82478677966878, 34.90588906956827],
      [44.82489367511512, 34.905867611896134],
      [44.82482495663682, 34.90540627194559],
      [44.82476387347573, 34.905202424060455],
      [44.824779144272114, 34.904923474322906],
      [44.82484022741689, 34.90479472829017],
      [44.82503111182437, 34.904816185962304],
      [44.82491658125625, 34.90468743992959],
      [44.8248478628054, 34.90451577855264],
      [44.824779144272114, 34.90450504971657],
      [44.82468751943275, 34.90453723622475],
      [44.82452717561111, 34.90450504971657],
      [44.8244508212525, 34.90451577855264],
      [44.824351560434096, 34.90449432088052],
      [44.82426757037646, 34.90439776135599],
      [44.824145402799935, 34.90435484601175],
      [44.8240232349628, 34.9042582864872],
      [44.823939244423556, 34.90416172696268],
      [44.823908702378745, 34.9040758962742],
      [44.82380180509362, 34.90411881161844],
      [44.82361855214056, 34.90408662511025],
      [44.82351928987946, 34.904150998126596],
      [44.823290222466355, 34.9040758962742],
      [44.82326349787513, 34.90402761651191],
      [44.82322722876711, 34.90399677110825],
      [44.82318523292911, 34.90393910361443],
      [44.8231747339648, 34.90390155268822],
      [44.823143237060314, 34.90387338949356],
      [44.823069744215815, 34.90385729623949],
      [44.82300865918235, 34.90386668397102],
      [44.822939323503086, 34.90385980239747],
      [44.822841968978494, 34.90383029809832],
      [44.8226835289081, 34.90381420484422],
      [44.82251363485158, 34.90375251403689],
      [44.822432639408625, 34.90374428122077],
      [44.82228565180135, 34.90374428122077],
      [44.822201658713496, 34.90376842110191],
      [44.822176842550334, 34.903787196565],
      [44.82213866381678, 34.90385156958137],
      [44.822125301254005, 34.90389984934363],
      [44.8221138476263, 34.90396690456901],
      [44.82209284930289, 34.904012502122264],
      [44.82203939899037, 34.90406882851156],
      [44.82178704634464, 34.90413484025405],
      [44.82168778090876, 34.904180437807305],
      [44.821630512309774, 34.90420725989746],
      [44.82157515260966, 34.90422335315154],
      [44.821510248065515, 34.90431186604903],
      [44.8214377076056, 34.90437355685638],
      [44.821382423340786, 34.90445017659221],
      [44.82132038202518, 34.90451723181759],
      [44.821181027440424, 34.90469023429903],
      [44.82116384671471, 34.904741196270336],
      [44.82115239289472, 34.90484043800387],
      [44.8211256673058, 34.904895423288686],
      [44.8211103955351, 34.90491151654276],
      [44.821093214788206, 34.90491956316983],
      [44.821072216090556, 34.90491017543827],
      [44.82106267122544, 34.9048806711391],
      [44.821059807765586, 34.90486189567601],
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
    strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 2,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [44.82502337206724, 34.91605322511201],
    {
      hintContent: "Начало маршрута",
    //   balloonContent: `Начало маршрута`,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [44.82568403425213, 34.9086912136472],
    {
      hintContent: "Конец маршрута",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
