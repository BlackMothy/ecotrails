ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 14,
    center: [59.96534031259564, 30.71228481043683],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });
  // Западный котлин

  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.
      [59.95596530417698, 30.69663745171536],
       [59.95640651304511, 30.69598567492472],
       [59.95663518605397, 30.695749640531407],
       [59.95683157455074, 30.695663809842934],
       [59.95703334233802, 30.69574427611338],
       [59.957162473074966, 30.69589447981822],
       [59.9573561682337, 30.696194887227904],
       [59.957453015387046, 30.696522116727717],
       [59.95749067809219, 30.696811795301322],
       [59.95751488980853, 30.697122931547057],
       [59.957904965014166, 30.69776666171063],
       [59.958273514596, 30.698168993062865],
       [59.95850755489592, 30.698238730497234],
       [59.958690176612315, 30.69817574729825],
       [59.95886503225818, 30.698283035658857],
       [59.959010296244486, 30.698449332617777],
       [59.95911789878533, 30.698626358412774],
       [59.95926316165934, 30.698996503256826],
       [59.959327722731544, 30.699146706961667],
       [59.959793096726386, 30.700015742682478],
       [59.95997870649016, 30.700444896124868],
       [59.96021920616812, 30.700629423631735],
       [59.960342944529835, 30.70079035617263],
       [59.96058772992298, 30.701541374696806],
       [59.96075450574489, 30.701986621393278],
       [59.96082444374213, 30.70209390975388],
       [59.960964319292216, 30.702217291368566],
       [59.96104770635747, 30.702319215311118],
       [59.96088279894189, 30.703483659012537],
       [59.96123786586146, 30.70450289843819],
       [59.96160504951164, 30.705311112114533],
       [59.96198604180597, 30.70586607993781],
       [59.9624271702405, 30.705839257847654],
       [59.96270690716969, 30.705930452954153],
       [59.96302160838222, 30.706112843167176],
       [59.96358644918903, 30.706751208912724],
       [59.96366713994406, 30.706820946347094],
       [59.96387424531263, 30.70661709846196],
       [59.96406790110534, 30.70612357200323],
       [59.96421314220446, 30.70563540996252],
       [59.96443907153312, 30.705329638134813],
       [59.964619275960715, 30.705501299511784],
       [59.965111471101615, 30.70646689475715],
       [59.96530265884279, 30.707167155636416],
       [59.9653456916997, 30.708004004849066],
       [59.96546941085089, 30.708637006176588],
       [59.96514666426625, 30.709967381847974],
       [59.9650767354237, 30.710224873913397],
       [59.965033702216225, 30.71079350222455],
       [59.96481853533739, 30.711641080273253],
       [59.96483467290196, 30.71202731837141],
       [59.96492611895209, 30.712252623928645],
       [59.96534031259564, 30.71228481043683],
       [59.96600731481396, 30.71241355646954],
       [59.96622785290556, 30.712520844830145],
       [59.96645376844742, 30.712467200649854],
       [59.96671733462567, 30.712059504879594],
       [59.966900216043356, 30.711887843502623],
       [59.96702392936909, 30.711587436092966],
       [59.96723370307923, 30.71141577471602],
       [59.96743271793103, 30.7118985723387],
       [59.96742733916701, 30.712327725781066],
       [59.967508020535035, 30.71256376017438],
       [59.96761559538571, 30.712649590862853],
       [59.967755442167444, 30.712606675518618],
       [59.96798672592944, 30.71220970858441],
       [59.968053959277206, 30.711984403027174],
       [59.968183046921055, 30.711769826305964],
       [59.968301376817806, 30.711641080273253],
       [59.96867787821283, 30.711678631199465],
       [59.96882847756846, 30.711576707256913],
       [59.96894142663428, 30.711571342838887],
       [59.96904630756369, 30.71146405447828],
       [59.969229176079374, 30.711040265453917],
       [59.96930985304367, 30.71066475619184],
       [59.96931523150094, 30.710326797855974],
       [59.969390529810774, 30.70980644930708],
       [59.96938564776368, 30.709253766198444],
       [59.9694609459129, 30.708792426247868],
       [59.969232361714944, 30.708406188149738],
       [59.968971504872805, 30.708272077698975],
       [59.968371795243314, 30.708454467912002],
       [59.96840450456477, 30.70798122122575],
       [59.96844753337854, 30.7077022714882],
       [59.96844484407933, 30.706956617382072],
       [59.968573930194616, 30.706672303226494],
       [59.968565862327196, 30.706495277431497],
       [59.96868150157178, 30.706135861423526],
       [59.968775626239236, 30.706039301898972],
       [59.968837479446, 30.705862276104],
       [59.96893429292829, 30.705250732448608],
       [59.96893160366873, 30.705105893161793],
       [59.96897463179542, 30.704746477153797],
       [59.969200528540455, 30.70439778998185],
       [59.96921666396311, 30.70400082304767],
       [59.96914674374138, 30.70379697516254],
       [59.96898001030732, 30.70370041563799],
       [59.968762179874616, 30.703636042621646],
       [59.968536280129804, 30.70330344870378],
       [59.96844753337854, 30.70297085478594],
       [59.96842870827943, 30.70280455782702],
       [59.9683426505467, 30.7027294559746],
       [59.96825928190419, 30.702584616687783],
       [59.96830380895084, 30.702450243792715],
       [59.96834683789587, 30.701962081752008],
       [59.96839121143668, 30.700937477908305],
       [59.96831322153737, 30.702420739493544],
       [59.96825540132064, 30.70261385854262],
       [59.968233886795545, 30.703582135996996],
       [59.9682089669983, 30.703617004714193],
       [59.96788893654035, 30.7037806194641],
       [59.967373221658214, 30.703896887316116],
       [59.96678020658015, 30.70389956952513],
       [59.96610246201827, 30.703459687246685],
       [59.96604509929325, 30.703673589717017],
       [59.96564705165925, 30.703609216700677],
       [59.96553678085767, 30.70359312344657],
       [59.965404993318984, 30.703394639979468],
       [59.96524630966621, 30.703051317225572],
       [59.964913374216145, 30.70257724830589],
       [59.964835376100346, 30.702453866691204],
       [59.96410917790188, 30.702475324363338],
       [59.963756831539435, 30.701895967216103],
       [59.96370034818505, 30.701633110732658],
       [59.963146268252444, 30.70066215106927],
       [59.962906881327456, 30.700351014823536],
       [59.9626379051838, 30.70005597183188],
       [59.962492657155146, 30.699841395110695],
       [59.962342028894945, 30.699573174209224],
       [59.962242506274634, 30.69936396190604],
       [59.962067668512546, 30.699208393783174],
       [59.96194124678476, 30.699267402381516],
       [59.96159425700198, 30.69991113254509],
       [59.961540459809896, 30.70016862461051],
       [59.961543149671606, 30.700742617339717],
       [59.961368308206374, 30.70111812660179],
       [59.961266092767076, 30.701423898429475],
       [59.961080490239524, 30.70193888256034],
       [59.96095002986753, 30.702199727387047],
     
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
         strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 3,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [59.95596530417698, 30.69663745171536],
    {
      hintContent: "Начало маршрута",
    //   balloonContent: `Начало маршрута Каменный столб `,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [59.96095002986753, 30.702199727387047],
    {
      hintContent: "Конец маршрута",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
