ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 15,
    center: [60.739966, 28.713388],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });
  // Западный котлин

  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.
      [60.7374410581998,28.7202147286447],
    [60.7377562266826,28.7195227187188],
    [60.7379348207834,28.7190077345879],
    [60.7381895782906,28.718653682998],
    [60.738404938716,28.7184391062768],
    [60.7385782765494,28.7181655209573],
    [60.7389827278426,28.717398409179],
    [60.7391185542334,28.7172650404711],
    [60.7392656255392,28.7171845742006],
    [60.7393916861205,28.7171255656023],
    [60.7395597661229,28.7169109888811],
    [60.7397094616318,28.7166374035616],
    [60.7398591564313,28.7157415457506],
    [60.7398749137388,28.7156771727342],
    [60.7399825884659,28.7155108757753],
    [60.740153291559,28.715462596013],
    [60.7403660125914,28.7152158327836],
    [60.7404080313953,28.7149476118821],
    [60.7404106575688,28.7146311112184],
    [60.7403817696494,28.7144540854234],
    [60.7402872271854,28.714196593358],
    [60.7400009719016,28.713670880391],
    [60.7399694574029,28.7135099478502],
    [60.7399642049835,28.7133543797273],
    [60.7401532915138,28.7127106495637],
    [60.7406154983946,28.7118416138429],
    [60.7411302209266,28.7118094273347],
    [60.7413663038387,28.7117488967063],
    [60.7415947732764,28.7116684304358],
    [60.741773345954,28.7115879641654],
    [60.7421436184681,28.7113358365179],
    [60.7423510742408,28.711169539559],
    [60.7424823746735,28.7109925137641],
    [60.7426714463407,28.7107403861167],
    [60.7428447610625,28.7103863345267],
    [60.7429891892801,28.7101181136252],
    [60.7431992655146,28.7098069773795],
    [60.7433226846644,28.7096514092566],
    [60.7433988366683,28.7095548497321],
    [60.7434986217783,28.7094958411337],
    [60.7435826511033,28.7095280276419],
    [60.743624665683,28.7096675025107],
    [60.7435852770071,28.7095360742689],
    [60.7435790404637,28.7095253454329],
    [60.7435074842476,28.7094998644472],
    [60.743417692695,28.7095407497066],
    [60.7432128697637,28.709790195145],
    [60.7431879232926,28.709800923981],
    [60.7431577249067,28.7097499620098],
    [60.743105205907,28.7097553264278],
    [60.7430841982829,28.7097338687557],
    [60.7430710685109,28.7096855889934],
    [60.7430671295782,28.709610487141],
    [60.743081572329,28.7095192920345],
    [60.7431854982144,28.7091986863583],
    [60.74336453656,28.7086910928956],
    [60.7435148707393,28.7084268953076],
    [60.7437137834397,28.7080715026132],
    [60.7439330455033,28.707679900097],
    [60.7440538359483,28.7072936619989],
    [60.7440984757799,28.7068591441384],
    [60.7441221086068,28.7067196692697],
    [60.7441614966127,28.7065533723107],
    [60.7438962830674,28.7064782704582],
    [60.743809628672,28.7064621772041],
    [60.7436231896316,28.7064782704582],
    [60.7435155271557,28.7065319146385],
    [60.7434209939513,28.706617745327],
    [60.7433448419912,28.7068108643761],
    [60.7432214229268,28.7070308055153],
    [60.7431111331473,28.7071917380562],
    [60.7430008429876,28.707347306179],
    [60.7429063082534,28.7075779761543],
    [60.7428301550771,28.7077550019493],
    [60.7427277418992,28.707883747982],
    [60.7426121984331,28.7078944768181],
    [60.7425307925587,28.7078408326378],
    [60.7424047443355,28.7078515614738],
    [60.7422471833693,28.7077925528755],
    [60.7421316381677,28.7077925528755],
    [60.7420344748343,28.7078622903099],
    [60.7418165127697,28.7078515614738],
    [60.741687835664,28.7079052056541],
    [60.7415512798027,28.7080446805229],
    [60.7414672451424,28.7081895198097],
    [60.7413201839558,28.7082270707359],
    [60.7411573654251,28.7083289946785],
    [60.7410601991329,28.7084094609489],
    [60.7410234334319,28.7084684695473],
    [60.7408474826975,28.7085650290717],
    [60.7407109232405,28.7085757579077],
    [60.7405717370589,28.7084577407111],
    [60.7404378026143,28.7084282364119],
    [60.7402224558525,28.7085650290716],
    [60.7399611490048,28.7087152327765],
    [60.7398272119954,28.7087796057928],
    [60.7395304476248,28.708819838928],
    [60.7394188319853,28.7088332499731],
    [60.7390025679065,28.7089324917067],
    [60.738927718559,28.7092087592352],
    [60.7388712531663,28.7094179715383],
    [60.7386138747655,28.7107295717466],
    [60.7385692272631,28.7111345853079],
    [60.7385876115289,28.7114671792257],
    [60.7387714536059,28.7119499768484],
    [60.7387346852388,28.7121699179876],
    [60.7386243799926,28.7125776137578],
    [60.7385902378064,28.7128404702413],
    [60.7385593784997,28.7131140555608],
    [60.7385455902891,28.7133098568189],
    [60.7385318020636,28.7134922470319],
    [60.7385390244635,28.7137336458433],
    [60.7385357415547,28.7137819256055],
    [60.7384792754613,28.7140997673738],
    [60.7384136170984,28.7145034398305],
    [60.7381713365101,28.7145544018018],
    [60.7378666776368,28.71458658831],
    [60.7377328574345,28.7146080459816],
    [60.7376304279403,28.7146348680718],
    [60.737496481184,28.7146187748177],
    [60.7374255679684,28.7145919527275],
    [60.7373231374906,28.7145490373833],
    [60.7372692956887,28.7145517195923],
    [60.7370631201809,28.7146053637726],
    [60.7370053382625,28.7147046055062],
    [60.7368989667476,28.7149379576905],
    [60.736842497775,28.7150881613953],
    [60.7368004742889,28.715222271846],
    [60.736767643402,28.7153751577599],
    [60.7367295595309,28.7155924166901],
    [60.7366914756055,28.7157828535302],
    [60.7366612710879,28.715930375026],
    [60.7366218738482,28.7161288584931],
    [60.736589042778,28.7162415112717],
    [60.73654701895,28.7163192953331],
    [60.7364708506375,28.7163514818413],
    [60.7363881158496,28.7167323555214],
    [60.7363001278631,28.7170971359474],
    [60.7362278987381,28.7173948611481],
    [60.736114958325,28.7178320612175],
    [60.73599282463,28.718301447795],
    [60.7359114019137,28.7187252368194],
    [60.73585887101,28.719014915393],
    [60.7358155329571,28.7193475093108],
    [60.7358037134779,28.7197149719459],
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
         strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 3,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [60.7374410581998,28.7202147286447],
    {
      hintContent: "Начало экотропы",
    //   balloonContent: `Начало маршрута Каменный столб `,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [60.7358037134779,28.7197149719459],
    {
      hintContent: "Конец экотропы",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
