ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 14,
    center: [60.124605, 30.004808],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });
  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.
      [60.1313695241645,29.9971059254531],
    [60.1312276950289,29.9976101807479],
    [60.1311420620462,29.9977442911987],
    [60.131091217357,29.9978301218871],
    [60.1310269923737,29.9980232409362],
    [60.1309707954011,29.9982485464934],
    [60.1309467109587,29.9983987501983],
    [60.1309360067564,29.9986240557555],
    [60.1309012180747,29.9988547257308],
    [60.1308423448371,29.9990853957061],
    [60.1307807954303,29.9992677859191],
    [60.1306710766269,29.9994716338042],
    [60.1305265683863,29.9997076681975],
    [60.1304757227429,29.9998525074843],
    [60.1303981160825,30.000147550476],
    [60.1303124809337,30.0005874327544],
    [60.1302134650142,30.0008181027297],
    [60.1301438860811,30.0009200266723],
    [60.130085011484,30.0009629420165],
    [60.1298655688727,30.0009200266723],
    [60.1297611993016,30.0010058573607],
    [60.1297210570739,30.0010755947951],
    [60.1296300678426,30.0012633494261],
    [60.1295096405306,30.0016549519423],
    [60.1293142797285,30.0021109274748],
    [60.1291483559416,30.0024542502287],
    [60.1290038409827,30.0026259116057],
    [60.1288620016163,30.0027546576384],
    [60.1286452270601,30.0028994969252],
    [60.1284900048836,30.0028994969251],
    [60.1284177460379,30.0029155901792],
    [60.1283133718685,30.0030282429578],
    [60.1281420904605,30.0032803706052],
    [60.127952074093,30.0036236933591],
    [60.1278262880107,30.0039348296048],
    [60.1276603566872,30.0043800763013],
    [60.1274569558662,30.0049755267026],
    [60.1272990517185,30.0056729010465],
    [60.1272294666026,30.0060108593823],
    [60.1270715613598,30.0064668349149],
    [60.1268574513541,30.0071373871686],
    [60.126512196017,30.0081834486844],
    [60.1262472301522,30.0088003567578],
    [60.1259287330079,30.0093958071591],
    [60.1256262916717,30.0097284010769],
    [60.1254068192191,30.0098946980358],
    [60.1252034044236,30.0100556305767],
    [60.1250535190304,30.0102541140438],
    [60.1249384279867,30.0104311398388],
    [60.124783188277,30.011015861404],
    [60.1245235615856,30.0116005829692],
    [60.1243843794301,30.0117829731822],
    [60.1242585796661,30.0118527106166],
    [60.1241515156572,30.0118205241084],
    [60.1240257149912,30.0117025069117],
    [60.1238383514163,30.0115362099528],
    [60.123701842995,30.0114932946086],
    [60.123570687301,30.0114342860102],
    [60.1232842842888,30.0112626246333],
    [60.1231986305568,30.0112465313792],
    [60.1226391991783,30.0113377264857],
    [60.1222912226861,30.0115147522807],
    [60.1221172330514,30.0116005829691],
    [60.1219967781546,30.0117078713297],
    [60.1219030907069,30.0117722443461],
    [60.1218254637619,30.0118044308542],
    [60.1217531902251,30.0117883376001],
    [60.1216139963157,30.0117346934198],
    [60.1215390454954,30.0116971424936],
    [60.1214560640404,30.0116703204035],
    [60.1213704055441,30.0116595915674],
    [60.1212365636869,30.0116864136576],
    [60.1211562583159,30.0116756848215],
    [60.1209662014882,30.0115952185511],
    [60.1208751879605,30.0115737608789],
    [60.1204388549382,30.0115415743707],
    [60.1201765169536,30.0114879301905],
    [60.1200640857467,30.0114450148462],
    [60.1199302385695,30.0113752774118],
    [60.119772298189,30.0113377264856],
    [60.1196116800824,30.0113001755594],
    [60.1193546894764,30.0114181927561],
    [60.1192877645,30.0114396504282],
    [60.1191780072581,30.0114396504282],
    [60.1190843117611,30.0114450148462],
    [60.1189959700474,30.0114503792643],
    [60.1188969199644,30.011402099502],
    [60.1188380251787,30.0113323620676],
    [60.1188246399854,30.0111446074365],
    [60.1188219629461,30.0110748700022],
    [60.1188862118204,30.0105867079615],
    [60.1190414794177,30.0100341729043],
    [60.1191458830908,30.0097123078225],
    [60.119207454332,30.0095299176095],
    [60.1192957954763,30.0094226292489],
    [60.1194109063074,30.0093689850686],
    [60.1195286937165,30.0093636206506],
    [60.1196571885897,30.0094226292489],
    [60.1198044216709,30.0094870022653],
    [60.1199596849412,30.0095191887734],
    [60.1200694395683,30.0095138243554],
    [60.1200774703082,30.0093394807693],
    [60.1200814857135,30.0092348746177],
    [60.1201269936052,30.0090042046425],
    [60.1202166707366,30.0087574414131],
    [60.1202969784073,30.008561640155],
    [60.120442870164,30.0082370928642],
    [60.1205271925868,30.008035927188],
    [60.1206329299782,30.0078481725569],
    [60.1206770986611,30.0077677062865],
    [60.1208162965365,30.0075933627005],
    [60.1210090310937,30.0072983197088],
    [60.121145550711,30.0070891074056],
    [60.1215256611786,30.0063327244634],
    [60.1217264219681,30.0059303931112],
    [60.121888368117,30.0056112102384],
    [60.1220623589474,30.0052652052755],
    [60.1222256418189,30.0049433401937],
    [60.1224277366977,30.0045517376775],
    [60.1227502828949,30.0039106897229],
    [60.122908208922,30.0036129645222],
    [60.1231196680172,30.0031864932888],
    [60.1232896373055,30.0028163484448],
    [60.1234341774324,30.002486436736],
    [60.1235680103063,30.0021109274739],
    [60.1235880851917,30.0020599655026],
    [60.1236536630649,30.0019392660969],
    [60.1237982015789,30.0017381004208],
    [60.1239213264761,30.0016120365971],
    [60.1240538190655,30.0014511040562],
    [60.1241595450913,30.0013277224415],
    [60.1242478728933,30.0011721543186],
    [60.1243455685284,30.0008958867901],
    [60.1245048251639,30.0002709320896],
    [60.1245449737668,30.0001287750118],
    [60.1245944903205,29.999986617934],
    [60.1246921849233,29.9998417786472],
    [60.1248460867807,29.9996164730899],
    [60.1249571633313,29.9994662693851],
    [60.1250468272605,29.9993938497417],
    [60.1251860065963,29.9993321589343],
    [60.1253251853507,29.9992570570819],
    [60.1254014657456,29.9992114595286],
    [60.1254917975841,29.9991216055266],
    [60.1256323132559,29.998940556418],
    [60.1257514165674,29.9987286619058],
    [60.125938769207,29.9983665636888],
    [60.1259655337837,29.9982914618364],
    [60.1259842689744,29.9981063894143],
    [60.125996313011,29.9977898887506],
    [60.1259936365568,29.997671871554],
    [60.1260096952786,29.9975806764474],
    [60.1260337833465,29.997500210177],
    [60.1260993563218,29.9973714641443],
    [60.126223810809,29.9971488407961],
    [60.1263884111707,29.9968377045503],
    [60.1264526452376,29.9967974714151],
    [60.1265824511973,29.9967438272348],
    [60.1267042274464,29.9966419032922],
    [60.1268852707401,29.9965047297196],
    [60.1269789439511,29.9964081701951],
    [60.1270793078185,29.9962660131173],
    [60.1272024204099,29.9960648474412],
    [60.1273563104903,29.9957805332856],
    [60.1276279581813,29.9952843246178],
    [60.1277805081109,29.9949973282532],
    [60.1278996036135,29.9947720226959],
    [60.1281150449572,29.9944769797043],
    [60.1282475205996,29.9942945894913],
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
         strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 2,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [60.1313695241645,29.9971059254531],
    {
      hintContent: "Начало экотропы",
    //   balloonContent: `Начало маршрута Сестрорецкое болото`,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [60.1282475205996,29.9942945894913],
    {
      hintContent: "Конец экотропы",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
