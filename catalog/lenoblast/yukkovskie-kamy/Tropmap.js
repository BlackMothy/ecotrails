ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 14,
    center: [60.118824, 30.308169],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });
  // Западный котлин

  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.
      [60.1116586603053,30.2993484452377],
[60.1119478424063,30.2996703103195],
[60.1123441248509,30.3006144478927],
[60.112901054253,30.3018589928756],
[60.1132009354013,30.3029962494979],
[60.1135972027159,30.3047128632675],
[60.1142290785269,30.3054424241195],
[60.1146360429529,30.3063865616928],
[60.1150644210981,30.3067513421188],
[60.1156641411199,30.3068157151352],
[60.1158033602717,30.3078885987411],
[60.115942578833,30.3086396172653],
[60.1161995961636,30.3092618897567],
[60.1164994471718,30.3103562310348],
[60.1169813448287,30.3113432839522],
[60.1170455973161,30.3115364030013],
[60.1168528394764,30.3129311516891],
[60.1165101560767,30.3125234559188],
[60.1154285381237,30.3118582680831],
[60.11508583985,30.3120728448043],
[60.1146360429349,30.3116436913619],
[60.1143468845196,30.3111930802474],
[60.1139077872393,30.3113861992965],
[60.1137043011417,30.3114505723128],
[60.113747140425,30.3120513871322],
[60.1136507519589,30.3127809479842],
[60.1137257207904,30.3135963395247],
[60.1136293322614,30.3143902733932],
[60.1137899796524,30.3152914956221],
[60.1140363041246,30.3160854294906],
[60.1140041749414,30.3166004136214],
[60.1140363041156,30.317244143785],
[60.1140684332583,30.3177376702437],
[60.1143468845106,30.318703265489],
[60.114453980508,30.319046588243],
[60.1145932047939,30.3199907258162],
[60.1148930704804,30.3204198792586],
[60.1156962686418,30.3200980141768],
[60.1159747060824,30.3187247231612],
[60.1160817967766,30.3176732972273],
[60.1163923578135,30.3168793633589],
[60.1167136247589,30.3151842072615],
[60.1168314218507,30.3146048501143],
[60.1170134710701,30.3139396622786],
[60.1172490626783,30.3129955247054],
[60.1189945296203,30.3128667786727],
[60.1213288126863,30.3126092866072],
[60.1213073979911,30.3078027680525],
[60.1219391253571,30.3077813103804],
[60.1237592887242,30.3074809029707],
[60.1240162448308,30.3073306992658],
[60.1253224072534,30.3070732072004],
[60.1258684105566,30.3070732072004],
[60.1261681732116,30.3078456833967],
[60.1259647631373,30.3072448685774],
[60.1257399400088,30.3070302918562],
[60.1248299258904,30.3071375802168],
[60.1241982541886,30.3073092415937],
[60.1235344504798,30.3075238183149],
[60.1223776668434,30.3077038918651],
[60.1207822854586,30.3079184685863],
[60.1207715779118,30.3072318230784],
[60.1208251154754,30.3064808045543],
[60.1209750201886,30.3059229050792],
[60.1210178499808,30.305171886555],
[60.1209214828696,30.3045925294078],
[60.1208037004605,30.3040346299327],
[60.1206323798378,30.3034552727855],
[60.1206002571215,30.3027471696055],
[60.1204182278014,30.3022321854747],
[60.1201077048659,30.301566997639],
[60.1196579767834,30.3013524209178],
[60.1193046146797,30.3013095055736],
[60.1188548755894,30.3016099129832],
[60.1185550461044,30.3021892701304],
[60.118469380025,30.3028759156382],
[60.118383713731,30.3037556801951],
[60.1183408805001,30.3047212754404],
[60.1183087555403,30.3056868706858],
[60.1183194638637,30.3066953812754],
[60.1184800882961,30.3073820267832],
[60.1189619568753,30.307875553242],
[60.1194224024524,30.308240333668],
[60.1209536052534,30.307875553242],
[60.121403315577,30.3078326378977],
[60.1213176569429,30.3079828416026],
[60.1213283642844,30.3124031220591],
[60.1212319980853,30.3125747834361],
[60.1193474466345,30.3128322755015],
[60.1183730054195,30.3128966485178],
[60.1177626264016,30.3129395638621],
[60.117377118014,30.3129610215342],
[60.116948770049,30.3129610215342],
[60.116905934945,30.3126391564524],
[60.1170344400893,30.3117808495677],
[60.116948770049,30.3111371194041],
[60.1165846698824,30.3104719315684],
[60.1162955286279,30.3094848786509],
[60.1159100030041,30.3084549103891],
[60.1157922026045,30.3075751458323],
[60.1157065293211,30.306995788685],
[60.1158029117492,30.3067168389475],
[60.1164240361626,30.3063735161936],
[60.1170772750166,30.305901447407],
[60.1174520783149,30.3059872780954],
[60.1176555411657,30.3065880929148],
[60.1177840433744,30.3071459923899],
[60.1182016720775,30.3076395188486],
[60.1185550460593,30.3079399262583],
[60.1187692102567,30.3082188759959],
[60.119111870065,30.3079613839304],
[60.1185657543024,30.3074463997995],
[60.1182337971422,30.3069528733408],
[60.1181695469814,30.3063520585215],
[60.1180731715043,30.3052577172434],
[60.1178375858129,30.304828563801],
[60.1158025458199,30.3050233645285],
[60.1155026884437,30.3037573618735],
[60.1149779314423,30.3026201052512],
[60.1145923903391,30.3021265787924],
[60.1145067139232,30.30169742535],
[60.1145709712561,30.3011824412192],
[60.1144638756315,30.300431422695],
[60.1146459379854,30.2992941660727],
[60.1147101950456,30.2985002322043],
[60.1143460700407,30.2968694491233],
[60.1142818122404,30.2967997116889],
[60.114131876947,30.2967460675086],
[60.1137168739021,30.2967621607627],
[60.1135267739807,30.296826533779],
[60.1132697356982,30.2972395939673],
[60.113106408255,30.2975721878851],
[60.112932369921,30.2977223915899],
[60.1127690407988,30.2976043743933],
[60.1126083884104,30.2975829167212],
[60.1124370249868,30.2977974934424],
[60.112345987809,30.2978082222784],
[60.112201398831,30.2977062983359],
[60.1121826557687,30.297920875057],
[60.1119684485822,30.2984412236059],
[60.1118292131522,30.2988006396139],
[60.1116819442758,30.2991868777121],
     
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
         strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 3,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [60.1116586603053,30.2993484452377],
    {
      hintContent: "Начало маршрута",
    //   balloonContent: `Начало маршрута Каменный столб `,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [60.1116819442758,30.2991868777121],
    {
      hintContent: "Конец маршрута",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
