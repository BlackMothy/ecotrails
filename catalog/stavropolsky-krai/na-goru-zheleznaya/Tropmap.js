ymaps.ready(function () {
  var myMap = new ymaps.Map("map", {
    zoom: 16,
    center: [44.138887, 43.031827],
    controls: [],
  });
  myMap.controls.add("geolocationControl", {
    float: "none",
    position: {
      top: "16px",
      left: "16px",
    },
  });
  myMap.controls.add("zoomControl", {
    float: "none",
    position: {
      top: "250px",
      right: "15px",
    },
  });
  myMap.controls.add("typeSelector", {
    float: "none",
    position: {
      top: "16px",
      left: "64px",
    },
  });
  // Западный котлин

  var myPolyline = new ymaps.Polyline(
    [
      // Указываем координаты вершин.
      [44.1359695764666,43.032745886261],
        [44.1362747803202,43.0328209881134],
        [44.1369547224347,43.0330892090149],
        [44.1371903823506,43.0330999378509],
        [44.1372676477125,43.0331428531952],
        [44.137468537142,43.0334110740966],
        [44.1375419388693,43.0334915403671],
        [44.1377080582286,43.0335398201293],
        [44.1378703139146,43.0336524729079],
        [44.1384382052036,43.0343498472518],
        [44.1386043220458,43.0344249491042],
        [44.1387974805476,43.0344356779403],
        [44.1389249648102,43.0344678644485],
        [44.1390601750889,43.0345483307189],
        [44.1391606168084,43.0346717123336],
        [44.139241742687,43.0348809246367],
        [44.1392958265655,43.0349238399809],
        [44.1394503515955,43.0349560264891],
        [44.1400684476436,43.0348433737105],
        [44.140137983063,43.0348058227843],
        [44.1401766138039,43.0347199920958],
        [44.1402500121414,43.0344356779402],
        [44.1403195473238,43.0343015674895],
        [44.1405976872286,43.0339582447356],
        [44.1407522088497,43.033679294998],
        [44.1408294694966,43.0334432606047],
        [44.1408642367545,43.0332072262114],
        [44.1409376342313,43.0328156236952],
        [44.1409608123628,43.0324991230314],
        [44.1409878535046,43.0323328260725],
        [44.1410805658961,43.0320324186628],
        [44.1410960179471,43.0317856554335],
        [44.1410805659179,43.0315871719664],
        [44.1409917165456,43.0311848406141],
        [44.1409917165456,43.0310560945814],
        [44.1410264837073,43.0309917215651],
        [44.1411462371065,43.0308093313521],
        [44.1411616891402,43.0306913141554],
        [44.1409775535523,43.0296810883976],
        [44.1407689501206,43.0290212649799],
        [44.1401006414666,43.0280342120624],
        [44.13980318372,43.0276640672183],
        [44.139729784845,43.0275621432757],
        [44.1395598080996,43.02725100703],
        [44.1393627889827,43.0270793456531],
        [44.139127137797,43.0266501922107],
        [44.1388644435775,43.0263122338748],
        [44.1383854098724,43.0261459369159],
        [44.1383004196128,43.02616203017],
        [44.1382888300224,43.0262210387683],
        [44.1384279049561,43.0262532252765],
        [44.1386249272141,43.0264517087436],
        [44.1386790116397,43.026526810596],
        [44.1386867379822,43.0266340989566],
        [44.1387717276819,43.0268057603336],
        [44.1388528540985,43.0269184131122],
        [44.1388953488434,43.0270364303088],
        [44.1389262540931,43.0270847100711],
        [44.1388876225284,43.0271061677432],
        [44.1387717276819,43.0270096082187],
        [44.1386828748111,43.0269237775302],
        [44.1385128950309,43.0266555566287],
        [44.1383892730631,43.0266340989566],
        [44.1384008626337,43.0266823787189],
        [44.1384819895634,43.0267521161532],
        [44.1385360741427,43.026891591022],
        [44.1387871803631,43.0272885579562],
        [44.1387910435274,43.0273743886447],
        [44.1387330960373,43.0273743886447],
        [44.138543800504,43.0271168965792],
        [44.1385013055043,43.027073981235],
        [44.1385399373235,43.0271919984317],
        [44.1386056113575,43.0273422021365],
        [44.1385940218275,43.0275460500216],
        [44.1385708427604,43.0276747960543],
        [44.1385862954946,43.0279698390459],
        [44.1385206214389,43.0281200427508],
        [44.1383931362972,43.0281897801852],
        [44.1382811036712,43.028162958095],
        [44.1382192924755,43.0281093139147],
        [44.1380956699324,43.0281146783327],
        [44.1379797735206,43.0281415004229],
        [44.1378870562263,43.0282058734392],
        [44.1377943387854,43.0284580010866],
        [44.1377054844336,43.02869403548],
        [44.1376282196704,43.0288496036028],
        [44.1375664078084,43.0291392821764],
        [44.1375084591081,43.0293967742419],
        [44.1375161856048,43.0296435374712],
        [44.1374968693612,43.0299385804629],
        [44.1375818607854,43.030501844356],
        [44.137643672653,43.030678870151],
        [44.1377054844554,43.0307593364214],
        [44.1379488677939,43.030855895946],
        [44.1382965565253,43.0311133880114],
        [44.1386983276248,43.0315639991259],
        [44.1389030752882,43.0318590421175],
        [44.1390691907916,43.0320199746584],
        [44.1393434735,43.0322291869616],
        [44.1395675344786,43.0322184581255],
        [44.1396641122226,43.0321487206911],
        [44.1396988801715,43.0319770593142],
        [44.1396872908575,43.0318912286257],
        [44.1397104694832,43.0318000335192],
        [44.139741374325,43.0313762444949],
        [44.1398147732073,43.0308505315279],
        [44.1398031839163,43.0307110566591],
        [44.1397066064013,43.0302336234545],
        [44.1394825459541,43.0294772405123],
        [44.1391580430989,43.0287745017504],
        [44.1391078222584,43.0285760182833],
        [44.139030559343,43.0284043569063],
        [44.1389223910903,43.0284150857424],
        [44.1388026331493,43.0285545606112],
        [44.1386017483337,43.0287798661684],
        [44.1384433578805,43.0289247054552],
        [44.1382772406041,43.0288710612749],
        [44.1382038397972,43.0289247054552],
        [44.138068627544,43.0293055791353],
        [44.1381188492744,43.0297079104876],
        [44.1382463350124,43.0300029534792],
        [44.1384742633684,43.0302014369463],
        [44.1386056115101,43.030501844356],
        [44.1387717278563,43.0307110566591],
        [44.1388953490178,43.0307968873476],
        [44.1390537382501,43.0307861585115],
        [44.1391232748511,43.0307164210771],
        [44.1391734956783,43.0306144971346],
        [44.1391850850939,43.0304535645937],
        [44.1391734956783,43.0303140897249],
        [44.1391000959933,43.0300565976595],
        [44.1390382856609,43.029965402553],
        [44.1389919278689,43.0299975890612],
        [44.1390305593648,43.030324818561],
        [44.1390035173203,43.0304106492494],
        [44.1389223911121,43.0303891915773],
        [44.138466536998,43.029976131389],
        [44.1383506413192,43.0297186393236],
        [44.1382695142078,43.0291714686846],
        [44.1381903186077,43.0289984662031],

     
    ],
    [],

    {
      // Задаем опции геообъекта.
      // Цвет с прозрачностью.
         strokeColor: "#F28123",
      // Ширину линии.
      strokeWidth: 3,
      // Максимально допустимое количество вершин в ломаной.
      editorMaxPoints: 6,
      // Добавляем в контекстное меню новый пункт, позволяющий удалить ломаную.
      editorMenuManager: function (items) {
        items.push({
          title: "Удалить линию",
          onClick: function () {
            myMap.geoObjects.remove(myPolyline);
          },
        });
        return items;
      },
    }
  );
  var startPoint = new ymaps.Placemark(
    [44.1359695764666,43.032745886261],
    {
      hintContent: "Начало маршрута",
    //   balloonContent: `Начало маршрута Каменный столб `,
    },
    {
      iconLayout: "default#image",
      iconImageHref: "https://i.ibb.co/Z2wRNPF/map-marker.png",
      iconImageSize: [32, 51],
      iconImageOffset: [-10, -45],
    }
  );

  var endPoint = new ymaps.Placemark(
    [44.1381903186077,43.0289984662031],
    {
      hintContent: "Конец маршрута",
    //   balloonContent: "Это конец маршрута",
    },
    {
      iconLayout: "default#image",
      iconImageHref: "2",
      iconImageSize: [15, 15],
      iconImageOffset: [0, 0],
    }
  );
  // Добавляем линию на карту.
  myMap.geoObjects.add(myPolyline).add(startPoint).add(endPoint);
});
//Геолокация пользователя//
function init() {
  var geolocation = ymaps.geolocation,
    myMap = new ymaps.Map(
      "map",
      {
        center: [55, 34],
        zoom: 10,
      },
      {
        searchControlProvider: "yandex#search",
      }
    );

  // Сравним положение, вычисленное по ip пользователя и
  // положение, вычисленное средствами браузера.
  geolocation
    .get({
      provider: "yandex",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Красным цветом пометим положение, вычисленное через ip.
      result.geoObjects.options.set("preset", "islands#redCircleIcon");
      result.geoObjects.get(0).properties.set({
        balloonContentBody: "Мое местоположение",
      });
      myMap.geoObjects.add(result.geoObjects);
    });

  geolocation
    .get({
      provider: "browser",
      mapStateAutoApply: true,
    })
    .then(function (result) {
      // Синим цветом пометим положение, полученное через браузер.
      // Если браузер не поддерживает эту функциональность, метка не будет добавлена на карту.
      result.geoObjects.options.set("preset", "islands#blueCircleIcon");
      myMap.geoObjects.add(result.geoObjects);
    });
}
